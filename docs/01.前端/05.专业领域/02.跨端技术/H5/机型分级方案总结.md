---
title: 机型分级方案总结
date: 2023-08-31 22:47:49
permalink: /pages/4cd4c2/
categories: 
  - 前端
  - 专业领域
  - 跨端技术
  - H5
tags: 
  - 
titleTag: 笔记
---

两个问题：
1. 怎么获取机型信息
2. 怎么设置评分标准

## 怎么获取机型信息

浏览器 UA 无法完全准确的识别机型，可以看这个库（[mobile-detect](https://www.npmjs.com/package/mobile-detect)）；

通常是具体情况具体分析：
- 端内 H5：利用客户端能力准确获取
- 端外 H5：
  - 通常不获取，能力优雅降级，图片资源根据分辨率自动选择较低质量的
  - 内存情况使用 `navigator.deviceMemory` 和 `performance.memory` 来综合判断
  - 实在需要评估机型性能，可以利用「预执行代码 + 指令耗时打分」这类方案协助评估，但可能会存在误判、分级逻辑延后等问题

## 怎么设置评分标准

根据系统、机型等预设置打分；

业务再根据系统版本和打分综合判断中高低，并制定一套黑白名单规则，解决边缘问题。